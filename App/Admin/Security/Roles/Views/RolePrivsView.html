<div class="panel panel-info">

    <div class="panel-heading">
        PRIVILEGES
    </div>


    <div class="panel-body">

        <div class="well well-sm">
            <form role="form" name="privForm" novalidate>

                <div class="row">
                    <div class="col-sm-6">
                        <ipg-privilege-select name="privilege" ng-model="record.privilege" privilege-id="record.privilegeId" ng-required="true"></ipg-privilege-select>
                    </div>
                    <div class="col-sm-2" ng-class="{'has-error' : privForm.startDateTime.$invalid}">
                        <ipg-date-picker name="startDateTime" ng-model="record.startDateTime" ng-required="true"></ipg-date-picker>
                    </div>
                    <div class="col-sm-2" ng-class="{'has-error' : privForm.endDateTime.$invalid}">
                        <ipg-date-picker name="endDateTime" ng-model="record.endDateTime" ng-required="true"></ipg-date-picker>
                    </div>
                    <div class="col-sm-1">
                        <button class="btn btn-info btn-sm text-center" ng-click="onAddPrivToRole()" ng-disabled="privForm.$invalid">
                            <span class="glyphicon glyphicon-plus"></span> Add
                        </button>
                    </div>
                </div>

            </form>
        </div>

        <form novalidate name="privListForm">
            <table class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th width="250">Name</th>
                        <th>Description</th>
                        <th width="175">Start Date</th>
                        <th width="175">End Date</th>
                        <th width="50"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in records | filter:rolePrivFilter"
                        ng-class="{strikeout: !item.isActive}">
                        <td>{{item.privilege.name}}</td>
                        <td>{{item.privilege.description}}</td>
                        <td ng-class="{'has-error' :  !item.startDateTime}">
                            <ipg-date-picker ng-model="item.startDateTime" ng-required="true"></ipg-date-picker>
                        </td>
                        <td ng-class="{'has-error' :  !item.endDateTime}">
                            <ipg-date-picker ng-model="item.endDateTime" ng-required="true"></ipg-date-picker>
                        </td>
                        <td>
                            <button class="btn btn-info btn-sm" ng-click="onClickDelete(item)" ng-show="item.isActive">
                                <span class="glyphicon glyphicon-trash"></span>
                            </button>
                            <button class="btn btn-info btn-sm" ng-click="onClickUndelete(item)" ng-hide="item.isActive">
                                <span class="glyphicon glyphicon-plus"></span>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
        

    </div>

    <div class="panel-footer text-center">

        <button class="btn btn-info btn-sm" ng-click="onSavePrivsToDatabase()" ng-disabled="isSaveDisabled()">
            <span class="glyphicon glyphicon-save"></span> Save
        </button>

    </div>
</div>