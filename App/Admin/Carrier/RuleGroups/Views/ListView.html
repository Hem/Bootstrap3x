<div master-page>
    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-sm-8 panel-title">
                            Carrier - Pricing Rules
                        </div>
                        <div class="col-sm-4 text-right">
                            <label for="pageSize">Page Size:</label>
                            <select id="pageSize" ng-model="model.params.pageSize" ng-change="search()" convert-to-number class="text-info">
                                <option value="5">5</option>
                                <option value="10">10</option>
                                <option value="15">15</option>
                                <option value="20">20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="well well-sm">
                        <div class="row">
                            <form class="form-inline">
                                <div class="col-sm-10">
                                    <label for="filterText">Filter:</label>
                                    <div class="input-group">
                                        <input type="text" id="filterText"
                                               ng-model="model.params.filterText"
                                               placeholder="Carrier or Rule Group" class="form-control"
                                               ng-model-options='{ debounce: 1000 }'
                                               ng-change="search()" />
                                        <a class="input-group-addon" ng-click="model.params.filterText='';search();">
                                            <span class="glyphicon glyphicon-remove"></span>
                                        </a>
                                    </div>
                                </div>
                                <div class="col-sm-2 text-right">
                                    <a class="btn btn-info btn-sm" ui-sref="carrierRuleGroups.detail({id: 0, mode:'add'})"
                                       ui-sref-opts="{reload:'carrierRuleGroups.detail'}">
                                        <span class="glyphicon glyphicon-plus"></span> Add
                                    </a>
                                </div>
                            </form>
                        </div>
                    </div>
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th>Carrier Name</th>
                                <th>Pricing Rule Group</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in model.records">
                                <td>{{item.carrier.name}}</td>
                                <td>{{item.priceRuleGroup.name}}</td>
                                <td>{{item.startDate | date : 'MM/dd/yyyy'}}</td>
                                <td>{{item.endDate | date : 'MM/dd/yyyy'}}</td>
                                <td class="text-nowrap">
                                    <a class="btn btn-info" tooltip="View"
                                       ui-sref="carrierRuleGroups.detail({id: item.id, mode:'view'})">
                                        <span class="glyphicon glyphicon-zoom-in"></span>
                                    </a>
                                    <a class="btn btn-info" ui-sref="carrierRuleGroups.detail({id: item.id, mode:'edit'})"
                                       tooltip="Edit">
                                        <span class="glyphicon glyphicon-edit"></span>
                                    </a>
                                    <a class="btn btn-info" ui-sref="carrierRuleGroups.detail({id: item.id, mode:'delete'})"
                                       tooltip="Delete">
                                        <span class="glyphicon glyphicon-trash"></span>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div> <!--panel-body-->

                <div class="panel-footer">
                    <div class="clearfix">
                        <pagination total-items="model.params.totalCount"
                                    items-per-page="model.params.pageSize"
                                    max-size="10"
                                    ng-model="model.params.pageIndex"
                                    ng-change="onPageIndexChange()"
                                    class="pagination-sm"
                                    boundary-links="true"
                                    style="margin: 8px; float: right;">
                        </pagination>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div ui-view ng-cloak></div>
        </div>
    </div>
</div>